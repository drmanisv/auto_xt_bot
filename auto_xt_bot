import time import hmac import hashlib import json import requests import os
API_KEY = os.getenv("XT_API_KEY") API_SECRET = os.getenv("XT_API_SECRET") BASE_URL = "https://www.xt.com"

Sample function to get account balance

def get_balance(): path = "/api/v4/balance" url = BASE_URL + path timestamp = str(int(time.time() * 1000)) sign_payload = f"{timestamp}#GET#{path}" signature = hmac.new(API_SECRET.encode(), sign_payload.encode(), hashlib.sha256).hexdigest()

headers = {
    "XT-API-KEY": API_KEY,
    "XT-API-SIGN": signature,
    "XT-API-TIMESTAMP": timestamp
}

response = requests.get(url, headers=headers)
return response.json()

Example usage

if name == "main": balance = get_balance() print(json.dumps(balance, indent=2))
import time
import hmac
import hashlib
import json
import requests
import os

API_KEY = os.getenv("XT_API_KEY")
API_SECRET = os.getenv("XT_API_SECRET")
BASE_URL = "https://www.xt.com"

# Sample function to get account balance
def get_balance():
    path = "/api/v4/balance"
    url = BASE_URL + path
    timestamp = str(int(time.time() * 1000))
    sign_payload = f"{timestamp}#GET#{path}"
    signature = hmac.new(API_SECRET.encode(), sign_payload.encode(), hashlib.sha256).hexdigest()

    headers = {
        "XT-API-KEY": API_KEY,
        "XT-API-SIGN": signature,
        "XT-API-TIMESTAMP": timestamp
    }

    response = requests.get(url, headers=headers)
    return response.json()

# Example usage
if __name__ == "__main__":
    balance = get_balance()
    print(json.dumps(balance, indent=2))
